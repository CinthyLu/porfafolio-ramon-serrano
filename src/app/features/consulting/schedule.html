<!-- Loading -->
<div *ngIf="loading" class="loading-wrapper">
  <div class="spinner"></div>
  <p>Cargando autenticación...</p>
</div>

<!-- Contenido -->
<div *ngIf="!loading" class="schedule-wrapper">

  <div class="schedule-card">

    <h2 class="title">Agendar Asesoría</h2>

    <form (ngSubmit)="submit()">

      <!-- Programador -->
      <div class="form-group">
        <label>Seleccionar Programador</label>
        <select [(ngModel)]="selectedProgrammer" name="programmer" required>
          <option value="">-- Seleccionar --</option>
          <option *ngFor="let p of programmers" [value]="p.id">
            {{p.fullName}} — {{ getLabel(p) }}
          </option>
        </select>
      </div>

      <!-- Fecha -->
      <div class="form-group">
        <label>Fecha</label>
        <input type="date" [(ngModel)]="date" name="date" required />
      </div>

      <!-- Hora -->
      <div class="form-group">
        <label>Hora</label>
        <input type="time" [(ngModel)]="time" name="time" required />
      </div>

      <!-- Comentario -->
      <div class="form-group">
        <label>Comentario (opcional)</label>
        <textarea [(ngModel)]="comment" name="comment" placeholder="Escribe un comentario opcional..."></textarea>
      </div>

      <!-- Botón -->
      <div class="form-actions">
        <button class="btn-primary" type="submit" [disabled]="submitting">
          {{ submitting ? 'Enviando...' : 'Enviar Solicitud' }}
        </button>
      </div>

    </form>

    <div class="nav-actions">
      <button class="btn-secondary" routerLink="/">Volver</button>
    </div>

  </div>

</div>
