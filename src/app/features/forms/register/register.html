<div class="register-wrapper">
  <div class="register-card">
    <h2 class="title">Crea tu cuenta</h2>

    <div class="notification" *ngIf="notification.visible" [ngClass]="notification.type">
      {{ notification.message }}
    </div>

    <form class="form" #f="ngForm" (ngSubmit)="register(f)">
      <div class="input-group">
        <input
          type="text"
          name="fullName"
          autocomplete="name"
          required
          minlength="3"
          [(ngModel)]="fullName"
          #nameCtrl="ngModel"
          [class.is-invalid]="nameCtrl.invalid && nameCtrl.touched"
        />
        <label>Nombre completo</label>
        <small class="error" *ngIf="nameCtrl.invalid && nameCtrl.touched">
          Ingresa tu nombre (mínimo 3 caracteres)
        </small>
      </div>

      <div class="input-group">
        <input
  type="email"
  name="email"
  autocomplete="email"
  required
  pattern="^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"
  [(ngModel)]="email"
  #emailCtrl="ngModel"
  [class.is-invalid]="emailCtrl.invalid && emailCtrl.touched"
/>
        <label>Correo</label>
        <small class="error" *ngIf="emailCtrl.invalid && emailCtrl.touched">
          Ingresa un correo válido
        </small>
      </div>

      <div class="input-group">
        <input
          type="password"
          name="password"
          autocomplete="new-password"
          required
          minlength="6"
          [(ngModel)]="password"
          #passCtrl="ngModel"
          [class.is-invalid]="passCtrl.invalid && passCtrl.touched"
        />
        <label>Contraseña</label>
        <small class="error" *ngIf="passCtrl.invalid && passCtrl.touched">
          La contraseña debe tener mínimo 6 caracteres
        </small>
      </div>

      <div class="input-group">
        <input
          type="password"
          name="password1"
          required
          minlength="6"
          [(ngModel)]="password1"
          #pass2Ctrl="ngModel"
          [class.is-invalid]="pass2Ctrl.touched && (pass2Ctrl.invalid || (password1 && password !== password1))"
        />
        <label>Confirmar contraseña</label>
        <small class="error" *ngIf="pass2Ctrl.invalid && pass2Ctrl.touched">
          Repite la contraseña
        </small>
        <small class="error" *ngIf="pass2Ctrl.touched && password1 && password !== password1">
  Las contraseñas no coinciden
</small>
      </div>

     <button type="submit" class="btn-primary" [disabled]="f.invalid || submitting">
  {{ submitting ? 'Procesando...' : 'Registrarse' }}
</button>

      <button type="button" class="btn-google" (click)="loginWithGoogle()" [disabled]="submitting">
        {{ submitting ? 'Procesando...' : 'Continuar con Google' }}
      </button>

      <div class="links">
        <p>¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a></p>
        <p><a routerLink="/">Volver al inicio</a></p>
      </div>
    </form>
  </div>
</div>
