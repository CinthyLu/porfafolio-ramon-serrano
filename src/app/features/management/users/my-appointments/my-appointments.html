<div class="appointments-wrapper">
  <div class="appointments-card">
    <h2 class="title">Mis Solicitudes de Asesoría</h2>

    <div *ngIf="loading" class="loading-wrapper">
      <div class="spinner"></div>
      <p>Cargando solicitudes...</p>
    </div>

    <table class="styled-table" *ngIf="!loading && appointments.length > 0">
      <thead>
        <tr>
          <th>Programador</th>
          <th>Fecha y Hora</th>
          <th>Comentario</th>
          <th>Estado</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let a of appointments">
          <td class="email-cell">{{ a.programmerId || '—' }}</td>

          <td>{{ a.datetime | date : 'short' }}</td>

          <td class="comment">{{ a.comment || '—' }}</td>

          <td>
            <span
              class="status"
              [ngClass]="{
                'pending': a.status === 'pending',
                'approved': a.status === 'approved',
                'rejected': a.status === 'rejected'
              }"
            >
              {{ a.status | titlecase }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && appointments.length === 0" class="empty-state">
      No has realizado solicitudes todavía.
    </div>

    <div class="footer">
      <button class="btn-secondary" routerLink="/">Volver</button>
    </div>
  </div>
</div>
